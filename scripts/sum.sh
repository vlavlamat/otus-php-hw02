#!/bin/bash

# Проверяем количества аргументов
if [ "$#" -ne 2 ]; then
  echo "Ошибка! Должно быть ровно два аргумента!" >&2
  exit 1
fi

# Регулярное выражение для проверки числа (целого или вещественного, с минусом)
is_number='^-?[0-9]+([.][0-9]+)?$'

# Проверка первого аргумента
if ! [[ "$1" =~ $is_number ]]; then
  echo "Ошибка! '$1' не является допустимым числом!" >&2
  exit 1
fi

# Проверка второго аргумента
if ! [[ "$2" =~ $is_number ]]; then
  echo "Ошибка! '$2' не является допустимым числом!" >&2
  exit 1
fi

# Вычисление суммы
if command -v bc > /dev/null 2>&1; then
  sum=$(echo "$1 + $2" | bc)
else
  sum=$(awk -v a="$1" -v b="$2" 'BEGIN { printf "%.10g\n", a + b}')
fi

# Вывод результата
echo "Сумма чисел '$1' и '$2' равна '$sum'"
