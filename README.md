# ğŸ§ Ğ”Ğ¾Ğ¼Ğ°ÑˆĞ½ĞµĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğµ â„–2 â€” Bash-ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹

## âœ¨ Ğ¦ĞµĞ»ÑŒ

* ĞÑĞ²Ğ¾Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Bash-ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ñ‚Ğ¸Ğ¿Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡.
* ĞĞ°ÑƒÑ‡Ğ¸Ñ‚ÑŒÑÑ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ñ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸, ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑĞ¼Ğ¸, Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğ¼Ğ¸ Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ÑĞ¼Ğ¸.
* ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Linux (`awk`, `sort`, `uniq`, `head`) Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….
* ĞŸĞ¾Ğ²Ñ‹ÑĞ¸Ñ‚ÑŒ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Ñ shell-Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸ĞµĞ¼, Docker Ğ¸ Makefile.

---

## ğŸª© Ğ—Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ

### 1. ğŸ’Ÿ ĞšĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€ ÑÑƒĞ¼Ğ¼Ñ‹

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Bash-ÑĞºÑ€Ğ¸Ğ¿Ñ‚ `sum.sh`, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ **Ğ´Ğ²Ğ° Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°** (Ğ²ĞµÑ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸Ğ»Ğ¸ Ñ†ĞµĞ»Ñ‹Ğµ Ñ‡Ğ¸ÑĞ»Ğ°, Ğ² Ñ‚Ğ¾Ğ¼ Ñ‡Ğ¸ÑĞ»Ğµ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ) Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ Ğ¸Ñ… **ÑÑƒĞ¼Ğ¼Ñƒ**.

> ğŸ’¡ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑÑ‚ÑŒ, Ñ‡Ñ‚Ğ¾ Ğ¾Ğ±Ğ° Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ° ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ñ‡Ğ¸ÑĞ»Ğ°Ğ¼Ğ¸. ĞŸÑ€Ğ¸ Ğ½ĞµĞ²ĞµÑ€Ğ½Ñ‹Ñ… Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… â€” Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ± Ğ¾ÑˆĞ¸Ğ±ĞºĞµ.

Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ²Ğ¾ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ´Ğ²ÑƒĞ¼Ñ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ°Ğ¼Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°:

#### âœ… Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1 â€” Ğ§ĞµÑ€ĞµĞ· `Makefile` Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸:

```bash
make up                   # Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
make sum a=5 b=23         # Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ ÑĞºÑ€Ğ¸Ğ¿Ñ‚ Ñ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
```

#### âœ… Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2 â€” Ğ§ĞµÑ€ĞµĞ· Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ bash Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°:

```bash
make run                  # Ğ’Ğ¾Ğ¹Ñ‚Ğ¸ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼ bash
sum 1.5 -7                # Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ° Ñ€ÑƒÑ‡Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹
```

---

Ğ’Ğ¾Ñ‚ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¸ ÑƒĞ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ±Ğ»Ğ¾Ğº `README.md`, ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ±Ğ° ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:

---

### ğŸŒ† Ğ¢Ğ¾Ğ¿-3 Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ° ÑÑ€ĞµĞ´Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

Ğ¤Ğ°Ğ¹Ğ» Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ¿Ğ¾ Ğ¿ÑƒÑ‚Ğ¸: `data/users.txt`, Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ³Ğ¾ Ğ²Ğ¸Ğ´Ğ°:

```
id user city phone
1 test Moscow 1234123
2 test2 Saint-P 1232121
3 test3 Tver 4352124
4 test4 Milan 7990923
5 test5 Moscow 908213
```

Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ» Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ **3 ÑĞ°Ğ¼Ñ‹Ñ… Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ²ÑÑ‚Ñ€ĞµÑ‡Ğ°ÑÑ‰Ğ¸Ñ…ÑÑ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°**.

---

#### ğŸ”§ Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: Ğ·Ğ°Ğ¿ÑƒÑĞº Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

```bash
make up           # Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ² Ñ„Ğ¾Ğ½Ğµ
make top-cities   # ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ 3 ÑĞ°Ğ¼Ñ‹Ñ… Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°
```

#### âš¡ Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: Ğ·Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° Ğ¸ ÑÑ€Ğ°Ğ·Ñƒ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ² Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼

```bash
make run          # Ğ—Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Bash
top-cities        # Ğ’Ğ²ĞµÑÑ‚Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°: Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ñ„Ğ°Ğ¹Ğ»Ğ°
```
> ğŸ“Œ Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚ `top_cities.sh` ÑƒĞ¶Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ ĞºĞ°Ğº ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° `top-cities`, Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ñ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»ÑŒĞ½Ğ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞµ `/usr/local/bin/top-cities`.

---

## ğŸš€ Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ Docker Ğ¸ Makefile

Ğ’ÑĞµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ¾Ğ±ĞµÑ€Ğ½ÑƒÑ‚Ñ‹ Ğ² `Makefile` Ğ´Ğ»Ñ ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ° Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.

### ğŸ”§ ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

```bash
make up             # Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
make down           # ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°
make rebuild        # ĞŸĞµÑ€ĞµÑĞ¾Ğ±Ñ€Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ñ Ğ½ÑƒĞ»Ñ
make run            # Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¸ Ğ²Ñ…Ğ¾Ğ´ Ğ² Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½ÑƒÑ ÑĞµÑÑĞ¸Ñ bash
make shell          # ĞŸÑ€Ğ¾ÑÑ‚Ğ¾ Ğ²Ğ¾Ğ¹Ñ‚Ğ¸ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€
make install        # Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ (bc Ğ¸ Ğ´Ñ€.)
make sum a=5 b=6    # Ğ’Ñ‹Ğ·Ğ¾Ğ² ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ° ÑÑƒĞ¼Ğ¼Ñ‹
make top-cities     # Ğ’Ñ‹Ğ·Ğ¾Ğ² ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ° ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¿Ğ¾ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°Ğ¼
```

---

### ğŸ¤” ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Docker + Makefile?

> Ğ¢Ğ°ĞºĞ¾Ğ¹ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚:
>
> * Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ²ÑÑ Ğ»Ğ¾Ğ³Ğ¸ĞºÑƒ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Make-Ñ„Ğ°Ğ¹Ğ»Ğµ;
> * ÑƒĞ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²Ñ‹Ğ·Ğ¾Ğ² ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ² Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸ĞµĞ¼;
> * ÑĞ¾Ğ±Ğ»ÑĞ´Ğ°Ñ‚ÑŒ DevOps-Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸ĞºĞ¸ Ğ¸ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ñ‚ÑŒ Ğ²Ğ¾ÑĞ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ.

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
hw02-bash/
â”œâ”€â”€ docker/
â”‚   â””â”€â”€ bash.Dockerfile
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ sum.sh             # ÑĞºÑ€Ğ¸Ğ¿Ñ‚-ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€
â”‚   â””â”€â”€ top_cities.sh      # Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ¾Ğ²
â”œâ”€â”€ data/
â”‚   â””â”€â”€ users.txt          # Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”œâ”€â”€ docker-compose.yml     # ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ Docker
â”œâ”€â”€ Makefile               # ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
â””â”€â”€ README.md              # Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
```

---

## ğŸ“ƒ ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ ÑÑÑ‹Ğ»ĞºĞ¸

* [ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ bash-ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ²](https://github.com/ruanyf/simple-bash-scripts)
* [ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ‚ĞµĞºÑÑ‚Ğ° Ğ² Bash (Habr)](https://habr.com/ru/articles/336596/)
* [awk, uniq, sort Ğ² Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°Ñ…](https://habr.com/ru/companies/ruvds/articles/325522/)
* [Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ rsync](https://selectel.ru/blog/rsync-guide/)
